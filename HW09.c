// HW09: Gabriel Cotua

#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define NROW 3
#define NCOL 5
#define FLOATHOLDER "%8.3lf"
#define INTHOLDER "%8d"

double dRand();
double dAvg( double arr[] );
double dMax( double arr[][NCOL] );

int main(void) {
    printf("\n\n|#####################|\n|HW #09, Gabriel Cotua|\n|#####################|\n\n");
    double arr[NROW][NCOL];
    double totalSum = 0.0;
    int i = 0, j = 0;
    
    srand( (unsigned int) time(0));
    printf("Row ");

    for (int i = 0; i < NCOL; i++) {
        printf(INTHOLDER, i);
    }
    printf("   Average\n");
    for ( i = 0; i < NROW; i++) {
        printf("%3d ", i);
        for ( j = 0; j < NCOL; j++) {
            arr[i][j] = dRand();
            printf( FLOATHOLDER , arr[i][j]);
            totalSum += arr[i][j];
        }
        printf(" " FLOATHOLDER"\n", dAvg(arr[i]));
    }
    printf("Overall average = %.3lf\n", totalSum / (NCOL * NROW));
    printf("Maximum value   = %.3lf", dMax(arr));

    return 0;

}

double dRand() {

    return rand() * 10.0 / RAND_MAX;

}

double dAvg(double arr[]) {
    double sum = 0.0;
    for ( int i = 0; i < NCOL; i++) {
        sum += arr[i];  
    }
    return sum / NCOL;
}

double dMax( double arr[][NCOL]) {
    double max = arr[0][0];
    for (int i = 0; i < NROW; i++) {

        for (int j = 0; i < NCOL; i++) {
            if (max < arr[j][i]) {
                max = arr[j][i];
            }
        }
    }
    return max;

}

/*
                [Sample output]
NROW = 3
NCOL = 5
|#####################|
|HW #09, Gabriel Cotua|
|#####################|

Row        0       1       2       3       4   Average
  0    6.518   3.450   6.825   7.447   8.567    6.561
  1    5.565   0.562   1.397   5.002   0.089    2.523
  2    9.422   5.736   4.561   7.691   5.763    6.635
Overall average = 5.240
Maximum value   = 8.567


NROW = 20
NCOL = 25
|#####################|
|HW #09, Gabriel Cotua|
|#####################|

Row        0       1       2       3       4       5       6       7       8       9      10      11      12      13      14      15      16      17      18      19      20      21      22      23      24   Average
  0    7.300   5.090   0.967   4.783   6.409   5.066   5.240   1.024   5.529   9.116   4.035   6.274   1.460   6.529   5.412   3.582   8.363   9.909   1.307   2.889   4.171   7.178   7.785   1.513   5.390    5.053
  1    8.434   0.705   8.407   0.582   6.743   9.609   3.737   7.861   6.911   7.644   0.371   6.699   1.308   0.334   8.812   9.361   6.815   1.012   2.155   2.285   1.934   5.719   2.630   2.715   8.142    4.837
  2    5.398   6.283   0.898   4.548   8.176   7.367   3.161   9.910   9.565   9.002   6.182   1.075   3.377   1.670   7.757   1.920   1.180   6.101   4.400   1.821   3.102   2.112   1.048   7.764   7.790    4.864
  3    9.981   3.231   9.103   4.345   5.881   6.979   9.081   4.045   7.978   6.805   2.133   4.660   4.725   7.061   1.067   5.180   1.928   6.991   3.155   3.766   0.150   4.783   9.231   6.736   8.994    5.520
  4    0.939   4.822   1.398   9.865   6.277   7.404   0.543   3.730   4.867   8.830   1.410   5.476   7.232   6.996   6.940   1.404   4.101   5.806   2.122   1.433   6.057   7.504   3.255   2.571   9.362    4.814
  5    6.432   2.927   5.223   3.297   8.271   8.533   8.889   9.309   3.836   7.140   8.818   7.296   1.490   4.508   0.190   9.326   7.222   1.096   1.368   6.112   6.470   2.835   2.804   6.558   6.748    5.468
  6    9.511   3.147   5.677   5.132   8.560   9.125   1.206   9.668   7.074   0.750   4.218   8.777   9.854   8.433   4.062   7.706   6.304   3.536   2.916   6.090   3.985   8.964   0.299   5.696   1.648    5.694
  7    1.323   2.821   2.397   9.544   1.232   9.510   1.458   9.837   3.337   8.015   0.173   4.924   2.598   1.998   6.938   6.482   8.404   5.031   0.802   3.046   3.088   1.313   0.584   8.933   6.394    4.407
  8    8.511   7.583   2.334   2.467   3.044   0.983   5.372   0.921   3.123   9.986   3.945   8.557   9.855   1.744   0.171   3.285   1.726   9.164   5.240   6.811   2.776   7.629   5.490   7.668   9.780    5.127
  9    4.710   9.517   1.127   8.741   1.934   9.132   7.580   6.016   2.659   1.981   5.925   4.380   5.128   8.639   3.551   9.346   4.756   1.978   9.459   6.052   4.729   1.650   2.084   2.026   8.953    5.282
 10    1.464   8.399   6.140   6.441   2.499   5.841   9.073   1.175   9.738   3.639   5.587   6.536   5.065   5.094   3.931   8.325   4.412   7.378   2.687   5.485   1.880   0.419   0.377   2.539   8.646    4.911
 11    1.430   8.123   2.845   9.471   6.642   0.695   6.700   4.615   6.805   6.252   3.386   9.971   8.032   0.081   1.188   3.243   4.521   2.654   4.478   8.964   4.749   7.316   1.896   0.177   7.678    4.877
 12    7.911   4.724   9.590   0.539   1.670   9.482   8.013   4.776   7.652   3.840   2.895   1.677   6.076   9.879   4.772   4.290   8.839   3.789   4.433   7.164   6.537   6.050   8.629   0.485   2.308    5.441
 13    1.165   7.119   0.172   7.794   1.003   8.887   0.489   1.557   0.825   0.326   0.741   5.238   2.041   3.207   2.614   7.787   0.772   5.244   9.722   3.074   6.274   1.079   5.923   1.186   8.287    3.701
 14    6.474   3.971   8.736   7.374   3.553   1.054   8.476   7.311   9.884   2.799   3.552   3.587   9.217   2.289   6.694   7.082   6.709   5.665   9.657   6.987   6.417   0.874   3.236   2.014   3.904    5.501
 15    1.119   3.155   3.984   1.740   9.588   2.145   2.829   0.743   7.001   3.536   7.086   4.738   8.566   6.650   8.945   1.675   1.882   9.339   7.902   8.903   2.368   7.953   2.101   5.419   7.766    5.085
 16    0.067   1.400   8.897   8.300   0.273   1.249   0.321   4.028   4.349   1.420   4.026   5.981   2.128   8.679   5.955   2.614   4.357   7.426   7.967   8.169   3.883   7.405   0.972   4.484   6.465    4.433
 17    2.515   4.745   2.827   1.529   9.800   7.202   7.309   8.170   2.679   0.961   6.445   6.731   7.474   0.008   4.416   1.250   7.306   4.265   8.609   3.110   2.410   4.886   4.982   1.182   0.944    4.470
 18    8.085   7.824   8.790   9.347   0.316   5.479   2.804   6.306   2.605   8.581   5.177   9.410   6.864   2.373   2.229   8.528   1.986   9.678   2.006   4.998   2.535   6.066   5.011   0.676   7.851    5.421
 19    3.795   8.629   5.910   4.373   6.089   0.557   0.505   9.003   8.306   1.549   6.734   6.311   7.556   2.792   8.467   7.406   7.356   8.216   5.475   3.276   8.849   7.072   6.969   0.413   5.180    5.632
Overall average = 5.027
Maximum value   = 9.909
 */